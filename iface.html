<html>
<head>
<title>Force-Directed Layout</title>
<script type="text/javascript" src="http://mbostock.github.com/protovis/protovis-r3.2.js"></script>
<style type="text/css">

body {
margin: 0;
}

</style>
</head>
<body>
<script type="text/javascript+protovis">

	var w = document.body.clientWidth,
	h = document.body.clientHeight,
	colors = pv.Colors.category19();

	var vis = new pv.Panel()
	.width(w)
	.height(h)
	.fillStyle("white")
	.event("mousedown", pv.Behavior.pan())
	.event("mousewheel", pv.Behavior.zoom());

	var force = vis.add(pv.Layout.Force)
	.nodes([
		{ coder:"prata", url:"https://codebits.eu/bots/505122804c6cb1d7c10972b33f6a81f8", friends:3 },
		{ coder:"erik", url:"https://codebits.eu/bots/b2487b4638c9880c688579b52d609565", friends:20 }
			])
	.links([
		{ source:1, target:0, value:1 }
			]);

	force.link.add(pv.Line);

	/*force.node.add(pv.Dot)
	.size(function(d) (d.linkDegree + 4) * Math.pow(this.scale, -1.5))
	.fillStyle(function(d) d.fix ? "brown" : colors(d.group))
	.strokeStyle(function() this.fillStyle().darker())
	.lineWidth(1)
	.title(function(d) d.nodeName)
	.event("mousedown", pv.Behavior.drag())
	.event("drag", force);*/

	force.node.add(pv.Image)
	.url(function(n) n.url)
	.width(function(n) n.friends * 10)
	.height(function(n) n.friends * 10)
	.event("mousedown", pv.Behavior.drag())
	.event("drag", force);

	vis.render();

</script>
</body>
</html>
